<!doctype html>
<html lang="pt-br">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>AM Conceito Fitness</title>

 <script src="https://cdn.tailwindcss.com"></script>
 <script>
   tailwind.config = {
     theme: {
       extend: {
         colors: {
           'primary-pink': '#DDA8A0',
           'primary-pink-dark': '#C79387',
           'base-white': '#F9FBF6',
           'accent-green': '#B2FB53',
           'muted-gray': '#6B7280',
         }
       }
     }
   }
 </script>
 <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">

 
 <style>
  :root{
   --primary-pink: #DDA8A0;
   --primary-pink-dark: #C79387;
   --base-white: #F9FBF6;
   --muted-gray: #6B7280;
   --black: #1E1E1E;
  }

  .no-scrollbar::-webkit-scrollbar {
    display: none !important;
  }
  .no-scrollbar {
    -ms-overflow-style: none !important;
    scrollbar-width: none !important;
  }

  .container { max-width: 1100px; }
  .btn-primary {
   background-color: var(--primary-pink);
   color: #ffffff;
   border-radius: 0;
   transition: background-color .2s ease, transform .1s ease;
   box-shadow: 0 3px 5px rgba(0,0,0,0.1); 
  }
  .btn-primary:hover { 
   background-color: var(--primary-pink-dark); 
   transform: translateY(-2px); 
   box-shadow: 0 8px 15px rgba(0,0,0,0.15);
  }
  .focus-ring:focus { 
   outline: 3px solid rgba(221,168,160,0.25); 
   outline-offset: 2px; 
  }
  .card-product {
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    border: 1px solid rgba(221,168,160,0.1);
  }
  .card-product:hover {
    transform: translateY(-3px); 
    box-shadow: 0 12px 30px rgba(0, 0, 0, 0.12);
    border-color: rgba(221,168,160,0.4);
  }
  .text-primary-pink { color: var(--primary-pink) !important; }
  .bg-base-white { background-color: var(--base-white) !important; }

  /* Placeholder para imagens que falharam */
  .img-placeholder {
    background: linear-gradient(135deg, #DDA8A0 0%, #C79387 100%);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 13px;
    font-weight: 600;
    text-align: center;
    padding: 20px;
    position: relative;
    overflow: hidden;
    border-radius: 0 !important;
  }
  
  .img-placeholder::before {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
    animation: shimmer 3s infinite;
  }
  
  @keyframes shimmer {
    0% { transform: translate(-50%, -50%) rotate(0deg); }
    100% { transform: translate(-50%, -50%) rotate(360deg); }
  }

  /* Admin gallery adjustments - para imagens pequenas em grid */
  .grid .relative img.img-placeholder {
    transform: scale(0.65) !important;
    transform-origin: center !important;
  }
  
  .img-placeholder-icon {
    width: 48px;
    height: 48px;
    margin-bottom: 12px;
    opacity: 0.9;
    filter: drop-shadow(0 2px 4px rgba(0,0,0,0.1));
  }
  
  .img-placeholder-text {
    position: relative;
    z-index: 1;
    text-shadow: 0 1px 2px rgba(0,0,0,0.1);
    letter-spacing: 0.3px;
  }

  /* Esconde as setas nativas (spin buttons) em navegadores modernos */
  input[type="number"]::-webkit-inner-spin-button,
  input[type="number"]::-webkit-outer-spin-button {
    -webkit-appearance: none;
    margin: 0;
  }
  input[type="number"] {
    -moz-appearance: textfield; /* Firefox */
  }

  /* Header fixo com scroll */
  header {
    position: sticky;
    top: 0;
    z-index: 1000;
    transition: background-color 0.3s ease, box-shadow 0.3s ease, backdrop-filter 0.3s ease;
  }

  header.scrolled {
    background-color: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(10px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
  }

  /* Search bar inline (default desktop/tablet) */
  .search-container {
    max-width: 280px;
    opacity: 1;
    overflow: visible;
    transition: max-width 0.4s ease, opacity 0.3s ease;
  }

  .search-container.active {
    max-width: 280px;
    opacity: 1;
  }

  /* Break line for very small widths (<415px) */
  @media (max-width: 415px) {
    .search-inline-415 {
      display: none !important;
    }
    .search-mobile-415 {
      display: block !important;
    }
    #search-toggle-btn {
      display: none !important;
    }
  }

  /* Toast Notifications */
  .toast {
    pointer-events: auto;
    animation: slideInRight 0.3s ease-out forwards, fadeOut 0.3s ease-in 3.7s forwards;
    transform-origin: right center;
  }

  @keyframes slideInRight {
    from {
      transform: translateX(400px);
      opacity: 0;
    }
    to {
      transform: translateX(0);
      opacity: 1;
    }
  }

  @keyframes fadeOut {
    from {
      transform: translateX(0);
      opacity: 1;
    }
    to {
      transform: translateX(400px);
      opacity: 0;
    }
  }

  .toast-progress {
    animation: progress 4s linear forwards;
  }

  @keyframes progress {
    from {
      width: 100%;
    }
    to {
      width: 0%;
    }
  }

  @media (max-width: 640px) {
    #toast-container {
      right: 1rem;
      left: 1rem;
      max-width: calc(100% - 2rem);
    }
  }
 </style>

 <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body class="bg-base-white text-gray-800">

<header class="bg-white shadow-sm w-full">
  <div class="w-full px-4">
    <!-- Top row: logo and nav buttons -->
    <div class="py-3 flex items-center justify-between  mx-auto">
      <a href="{{ url_for('index') }}" class="flex items-center gap-3 hover:opacity-80 transition flex-shrink-0">
        <img src="{{ url_for('static', filename='images/logo-nova.jpeg') }}" alt="logo" class="h-12 sm:h-14 w-12 sm:w-14 object-contain border-2 border-primary-pink/30 shadow-sm flex-shrink-0">
        <div class=" ">
          <div class="text-primary-pink text-lg sm:text-xl font-extrabold tracking-tight leading-tight">AM Conceito Fitness</div>
          <div class="text-muted-gray hidden sm:block text-xs font-medium">Conforto, autocuidado e amor pr√≥prio! üå∑ü§ç</div>
        </div>
      </a>

      <nav class="flex items-center gap-2 sm:gap-4 ml-auto">
        <!-- Search toggle button (desktop only) -->
        

        <!-- Search container (desktop/tablet) -->
        <div class="search-container hidden md:block">
          <form method="get" action="{{ url_for('index') }}" class="relative w-full">
            <input id="search-input" name="q" type="search" placeholder="Buscar produtos" class="w-full border-2 border-gray-300 px-3 py-2 pr-10 text-sm focus:ring-2 focus:ring-primary-pink focus:border-primary-pink transition" />
            <button type="submit" class="absolute right-2 top-1/2 -translate-y-1/2 text-primary-pink hover:text-primary-pink-dark transition p-1">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
              </svg>
            </button>
          </form>
        </div>

        <a href="{{ url_for('index') }}" class="text-sm font-semibold text-gray-700 hover:text-primary-pink transition hidden sm:block">Cat√°logo</a>
        
        <button id="cart-btn" class="btn-primary px-3 sm:px-4 py-2 text-sm font-semibold flex items-center gap-2 transition flex-shrink-0">
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"></path>
          </svg>
          <span class="hidden sm:inline">Carrinho</span>
          <span class="bg-white text-primary-pink px-2 py-0.5 text-xs font-bold" id="cart-count">0</span>
        </button>
      </nav>
    </div>

    <!-- Bottom row: search bar for mobile/tablet -->
    <div class="md:hidden pb-3 max-w-[1100px] mx-auto">
      <form method="get" action="{{ url_for('index') }}" class="relative w-full">
        <input id="search-input-mobile" name="q" type="search" placeholder="Buscar produtos..." class="w-full border-2 border-gray-300 px-3 py-2 pr-10 text-sm focus:ring-2 focus:ring-primary-pink focus:border-primary-pink transition" />
        <button type="submit" class="absolute right-2 top-1/2 -translate-y-1/2 text-primary-pink hover:text-primary-pink-dark transition p-1">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
          </svg>
        </button>
      </form>
    </div>
  </div>
</header>

<main class="container mx-auto px-4 py-8">
  {% if hero_included != True %}
    {% set hero_included = True %}
  {% endif %}
  {% block content %}{% endblock %}
</main>

<!-- Container de Notifica√ß√µes Toast -->
<div id="toast-container" class="fixed top-20 right-4 z-[9999] space-y-3 max-w-md w-full pointer-events-none"></div>

<footer class="mt-12 bg-gray-900 text-gray-200">
 <div class="container mx-auto px-4 py-8">
  <div class="grid grid-cols-1 gap-8 md:grid-cols-4">

   <div>
    <div class="flex items-start gap-3 mb-3">
    <img src="{{ url_for('static', filename='images/logo-nova.jpeg') }}" alt="AM Conceito Fitness" class="h-10 w-10 object-contain bg-white p-1">
     <div>
            <div class="font-bold text-white">AM Conceito Fitness</div>
      <div class="text-sm text-primary-pink">FITNESS</div>
     </div>
    </div>
    <p class="text-sm mt-3 text-gray-300">Conforto, autocuidado e amor pr√≥prio! üå∑ü§ç</p>
    <div class="text-xs text-gray-500 mt-2">
     Loja de roupas para atividades f√≠sicas.
    </div>
   </div>

   <div>
    <h4 class="font-bold mb-3 text-white">Fale com a Vendedora</h4>
    
        <a href="https://wa.me/5599981629810" target="_blank" class="flex items-center text-sm mb-2 hover:text-primary-pink transition-colors">
     <svg class="w-5 h-5 mr-2 text-primary-pink" fill="currentColor" viewBox="0 0 448 512"><path d="M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"/></svg>
 <span>(99) 98162-9810</span>
 </a>
 
 <div class="text-sm mb-2 flex items-start gap-2 text-gray-300">
 <svg class="w-5 h-5 flex-shrink-0 mr-2 text-primary-pink" fill="currentColor" viewBox="0 0 512 512"><path d="M64 112c-8.8 0-16 7.2-16 16l0 22.1L220.5 291.7c20.7 17 50.4 17 71.1 0L464 150.1l0-22.1c0-8.8-7.2-16-16-16L64 112zM48 212.2L48 384c0 8.8 7.2 16 16 16l384 0c8.8 0 16-7.2 16-16l0-171.8L322 328.8c-38.4 31.5-93.7 31.5-132 0L48 212.2zM0 128C0 92.7 28.7 64 64 64l384 0c35.3 0 64 28.7 64 64l0 256c0 35.3-28.7 64-64 64L64 448c-35.3 0-64-28.7-64-64L0 128z"/></svg>
 <span class="break-words max-w-full">amconceitofitness@gmail.com</span>
 </div>
</div>

<div>
 <h4 class="font-bold mb-3 text-white">Links √öteis</h4>
 <ul class="space-y-1">
    <li><a href="{{ url_for('index') }}" class="text-sm hover:text-primary-pink transition-colors">P√°gina Inicial</a></li>

 </ul>
</div>

<div>
 <h4 class="font-bold mb-3 text-white">Informa√ß√µes & Redes</h4>
 
 <div class="text-sm mb-2 flex items-start text-gray-300">
 <svg class="w-4 h-4 mt-1 mr-2 text-primary-pink" fill="currentColor" viewBox="0 0 384 512"><path d="M215.7 499.2C267 435 384 279.4 384 192C384 86 298 0 192 0S0 86 0 192c0 87.4 117 243 168.3 307.2c12.3 15.3 35.1 15.3 47.4 0zM192 128a64 64 0 1 0 0 128 64 64 0 1 0 0-128z"/></svg>
 <span>Somente Online</span>
 </div>
 
 

 <div class="mt-4 flex gap-4">
    <a href="https://www.instagram.com/am_conceitofitness" target="_blank" class="text-white hover:text-primary-pink transition-colors">
 <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.057-1.645.069-4.849.069-3.204 0-3.584-.012-4.849-.069-3.259-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zM5.838 12a6.162 6.162 0 1 1 12.324 0 6.162 6.162 0 0 1-12.324 0zM12 16a4 4 0 1 1 0-8 4 4 0 0 1 0 8zm4.965-10.322a1.44 1.44 0 1 1 2.881.001 1.44 1.44 0 0 1-2.881-.001z"/></svg>
 </a>
    <a href="https://wa.me/5581991108947" target="_blank" class="text-white hover:text-primary-pink transition-colors">
 <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 448 512"><path d="M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"/></svg>
 </a>
 </div>
</div>
</div>

<div class="border-t border-gray-700 mt-8 pt-4 text-center">
<div class="text-sm text-gray-400">
 ¬© <span id="current-year-footer"></span> AM Conceito Fitness - AMANDA THAYS ALVES MENDES 
</div>
<div class="text-sm text-gray-500 mt-1">
  ¬© Direitos Reservados <span class="text-primary-pink"> Amanda Thays </span>
</div>
</div>
</div>
</footer>

<!-- Bot√£o flutuante do WhatsApp -->
<a href="https://wa.me/5599981629810" target="_blank" class="fixed bottom-6 right-6 bg-green-500 hover:bg-green-600 text-white rounded-full p-4 shadow-lg transition-all duration-300 transform hover:scale-110 z-50 flex items-center justify-center" title="Fale conosco no WhatsApp">
  <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 448 512">
    <path d="M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"/>
  </svg>
</a>

<script>

(function(){ 
var el = document.getElementById('current-year-footer');
if(el) el.textContent = new Date().getFullYear();
})();

// Sistema de Notifica√ß√µes Toast
window.showToast = function(message, type = 'info', duration = 4000) {
  const container = document.getElementById('toast-container');
  if (!container) return;

  const toast = document.createElement('div');
  toast.className = 'toast bg-white rounded-lg shadow-2xl overflow-hidden border-l-4 transform transition-all';
  
  // Define cores e √≠cones baseado no tipo
  let borderColor, bgColor, icon, iconColor;
  switch(type) {
    case 'success':
      borderColor = 'border-green-500';
      bgColor = 'bg-green-50';
      iconColor = 'text-green-500';
      icon = `<svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
      </svg>`;
      break;
    case 'error':
      borderColor = 'border-red-500';
      bgColor = 'bg-red-50';
      iconColor = 'text-red-500';
      icon = `<svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
      </svg>`;
      break;
    case 'warning':
      borderColor = 'border-yellow-500';
      bgColor = 'bg-yellow-50';
      iconColor = 'text-yellow-600';
      icon = `<svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>
      </svg>`;
      break;
    case 'update':
      borderColor = 'border-blue-500';
      bgColor = 'bg-blue-50';
      iconColor = 'text-blue-500';
      icon = `<svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path>
      </svg>`;
      break;
    default:
      borderColor = 'border-primary-pink';
      bgColor = 'bg-primary-pink/10';
      iconColor = 'text-primary-pink';
      icon = `<svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
      </svg>`;
  }

  toast.classList.add(borderColor);
  
  toast.innerHTML = `
    <div class="flex items-start p-4 ${bgColor}">
      <div class="flex-shrink-0 ${iconColor}">
        ${icon}
      </div>
      <div class="ml-3 flex-1">
        <p class="text-sm font-medium text-gray-900">${message}</p>
      </div>
      <button class="ml-4 flex-shrink-0 inline-flex text-gray-400 hover:text-gray-600 focus:outline-none" onclick="this.parentElement.parentElement.remove()">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
        </svg>
      </button>
    </div>
    <div class="toast-progress h-1 bg-current ${iconColor} opacity-30"></div>
  `;

  container.appendChild(toast);

  // Remove automaticamente ap√≥s a dura√ß√£o
  setTimeout(() => {
    if (toast.parentElement) {
      toast.remove();
    }
  }, duration);
};
</script>

<script>
// Handler global para imagens quebradas
document.addEventListener('DOMContentLoaded', () => {
  // Adiciona handler para todas as imagens de produtos
  document.querySelectorAll('.carousel-item img, img[src*="supabase"]').forEach(img => {
    img.addEventListener('error', function() {
      if (!this.dataset.errorHandled) {
        this.dataset.errorHandled = 'true';
        const parent = this.parentElement;
        const placeholder = document.createElement('div');
        placeholder.className = 'img-placeholder  h-80';
        placeholder.innerHTML = `
          <svg class="img-placeholder-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M4 16L8.586 11.414C9.367 10.633 10.633 10.633 11.414 11.414L16 16M14 14L15.586 12.414C16.367 11.633 17.633 11.633 18.414 12.414L20 14M14 8H14.01M6 20H18C19.105 20 20 19.105 20 18V6C20 4.895 19.105 4 18 4H6C4.895 4 4 4.895 4 6V18C4 19.105 4.895 20 6 20Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          <div class="img-placeholder-text">
            <div style="font-size: 15px; margin-bottom: 4px;">Imagem Indispon√≠vel</div>
            <div style="font-size: 11px; opacity: 0.8; font-weight: 400;">AM Conceito Fitness</div>
          </div>
        `;
        parent.replaceChild(placeholder, this);
      }
    });
  });
});
</script>

<script src="{{ url_for('static', filename='js/main.js') }}"></script>
<!-- novo script do carrinho -->
<script src="{{ url_for('static', filename='js/cart.js') }}"></script>
<script>
  // atualiza contador e comportamento do bot√£o do header
  document.addEventListener('DOMContentLoaded', () => {
    updateCartCount();
    const btn = document.getElementById('cart-btn');
    if(btn) btn.addEventListener('click', () => { window.location.href = "{{ url_for('cart') if False else '/cart' }}"; });
    // sincroniza entre abas
    window.addEventListener('storage', () => updateCartCount());

    // Handler para TODAS as imagens - captura Supabase e imagens locais
    const placeholderSvg = `data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 400 300' fill='none'%3E%3Crect width='400' height='300' fill='%23DDA8A0'/%3E%3Crect width='400' height='300' fill='url(%23grad)' opacity='0.1'/%3E%3Cdefs%3E%3ClinearGradient id='grad' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' style='stop-color:white;stop-opacity:0.3'/%3E%3Cstop offset='100%25' style='stop-color:black;stop-opacity:0.1'/%3E%3C/linearGradient%3E%3C/defs%3E%3Ccircle cx='200' cy='80' r='35' fill='white' opacity='0.3'/%3E%3Cpath d='M 150 140 L 200 100 L 250 140' stroke='white' stroke-width='6' fill='none' opacity='0.4' stroke-linecap='round' stroke-linejoin='round'/%3E%3Ctext x='200' y='190' font-family='Arial, sans-serif' font-size='16' font-weight='bold' fill='white' text-anchor='middle' opacity='0.9'%3EImagem Indispon%C3%ADvel%3C/text%3E%3Ctext x='200' y='220' font-family='Arial, sans-serif' font-size='12' fill='white' text-anchor='middle' opacity='0.7'%3EAM Conceito Fitness%3C/text%3E%3C/svg%3E`;

    const showPlaceholder = (img) => {
      if (!img.src.includes('data:image')) {
        img.src = placeholderSvg;
        img.classList.add('img-placeholder');
      }
    };

    const setupImageErrorHandler = () => {
      document.querySelectorAll('img').forEach(img => {
        if (!img.dataset.errorListenerSetup) {
          img.dataset.errorListenerSetup = 'true';
          
          // Handler para erro de carregamento
          img.addEventListener('error', function() {
            showPlaceholder(this);
          });

          // Timeout para imagens do Supabase que podem n√£o disparar erro corretamente
          if (img.src.includes('supabase')) {
            const timeout = setTimeout(() => {
              if (!img.complete || img.naturalHeight === 0) {
                showPlaceholder(img);
              }
            }, 3000); // 3 segundos
            
            img.addEventListener('load', () => clearTimeout(timeout));
          }
        }
      });
    };

    // Setup inicial e adicionar observer para novas imagens
    setupImageErrorHandler();
    
    // Observer para imagens carregadas dinamicamente
    const observer = new MutationObserver(() => setupImageErrorHandler());
    observer.observe(document.body, { childList: true, subtree: true });

    // Header scroll effect
    const header = document.querySelector('header');
    let lastScroll = 0;

    window.addEventListener('scroll', () => {
      const currentScroll = window.pageYOffset;
      
      if (currentScroll > 50) {
        header.classList.add('scrolled');
      } else {
        header.classList.remove('scrolled');
      }
      
      lastScroll = currentScroll;
    });

    // Search toggle
    const searchToggle = document.getElementById('search-toggle-btn');
    const searchContainer = document.querySelector('.search-container');
    const searchInput = document.getElementById('search-input');

    if (searchToggle && searchContainer) {
      searchToggle.addEventListener('click', () => {
        searchContainer.classList.toggle('active');
        if (searchContainer.classList.contains('active')) {
          setTimeout(() => searchInput.focus(), 100);
        }
      });

      // Close search when clicking outside (apenas em desktop)
      document.addEventListener('click', (e) => {
        // S√≥ fecha se n√£o for mobile
        if (window.innerWidth > 640) {
          if (!searchToggle.contains(e.target) && !searchContainer.contains(e.target)) {
            searchContainer.classList.remove('active');
          }
        }
      });

      // Em mobile, sempre manter a classe active
      if (window.innerWidth <= 640) {
        searchContainer.classList.add('active');
      }
    }
  });
</script>
</body>
</html>